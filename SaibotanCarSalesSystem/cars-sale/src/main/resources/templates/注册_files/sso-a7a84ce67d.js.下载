"use strict";var SSO_PC={adSystem:function(e,a,t){var n=2<arguments.length&&void 0!==t?t:function(){},o=$(e);if(0<=jQuery.inArray(67,a.param.data.callParam.positionIds)){var s=dndc.getCookie("header_adv");$isVenucia||"1"==s||o.append('<div class="u-ad-loading"> <span></span> <span></span><span></span><span></span><span></span></div>')}else"false"!=o.attr("data-ad-loading")&&o.append('<div class="u-ad-loading"> <span></span> <span></span><span></span><span></span><span></span></div>');dndc.ajax({url:a.url,type:"post",dataType:"json",data:{act:a.param.act,op:a.param.op,data:JSON.stringify(a.param.data)},doneCallback:function(b){if("error"===b)return!1;o.each(function(){var e=$(this),a=e.attr("data-ad-id"),t=b[a],n=t.advWeight,o=(t.apRotationStyle,t.apRotationTime,t.ad||[]),s=o.length,i=void 0;e.empty(),s?(e.append('<ul class="slides clearfix"></ul>'),i=e.find("ul")):e.remove(),o[0].advId||e.empty();var r=Math.ceil(Math.random()*n),d={};if(53==a){for(var l=0;l<s;l++)if(o[l].advWeight>=r){var c="";c="http://"==(d=o[l]).contentUrl||""==d.contentUrl?'\n                                            <li style="margin-right:0">\n                                                <i><img src='+d.content+"></i>"+(d.advTitle||"")+"\n                                            </li>\n                                            ":'\n                                <li style="margin-right:0">\n                                    <a href='+d.contentUrl+' target="_blank"><i><img src='+d.content+"></i>"+(d.advTitle||"")+"</a>\n                                    </li>\n                                ",i.append(c);break}}else if(40==a){i=e;for(var p=0;p<s;p++)if(o[p].advWeight>=r){var u="<div class='focus-img-c' style='background: url("+(d=o[p]).content+") no-repeat center;'>\n                                <a href="+(d.contentUrl?d.contentUrl:"javascript:;")+' target="_blank"></a>\n                                    </div>';i.append(u);break}}else if(67==a){var f=dndc.getCookie("header_adv");if(!$isVenucia&&"1"!=f)for(var m=0;m<s;m++)if(o[m].advWeight>=r){var h="";h="http://"==(d=o[m]).contentUrl||""==d.contentUrl?"<li><img src="+d.content+"></li>":" <li><a href="+d.contentUrl+' target="_blank"><img src='+d.content+"></a></li>",i.append(h),$(i.parent()).append('<i class="cbb-iconfont block close-btn">&#xe615;</i>');break}dndc.setCookie("header_adv","1",{expired:30})}else for(var v=0;v<s;v++)if(o[v].advWeight>=r){var g="";g="http://"==(d=o[v]).contentUrl||""==d.contentUrl?"\n                                <li>\n                                    <img src="+d.content+">\n                                </li>\n                                ":"\n                                <li>\n                                    <a href="+d.contentUrl+' target="_blank"><img src='+d.content+"></a>\n                                    </li>\n                                ",i.append(g);break}}),n(b)}})},errorTipsShow:function(e,a,t){e.find(".error-tips-content").html(t),setTimeout(function(){e.find(".error-tips-content").html(""),a.attr("disabled",!1).addClass("u-btn-deepred").removeClass("u-btn-disabled")},3e3)},showErrors:function(e){var a=$(".error-tips-content").find("label").html();if($(".error-tips-content label:hidden").remove(),$(".error-tips-content label:eq(0)").nextAll().remove(),a){var t=$(".error-tips-content").find("label").attr("id").split("-")[0];$("#"+t).addClass("focus").siblings(".error-empty").removeClass("none"),$(".focus").focus()}},resetGeetest:function(e,a,t){$(".tabs-container .geetest-login").html(""),$(".geetest_goto").remove()},resetForm:function(){$(":input",".sso-form form").not(":button, :submit, :reset, :hidden").val("").removeAttr("checked").removeAttr("selected").removeClass("focus").siblings(".error-empty").addClass("none"),$(".error-tips-content label").remove()},ajaxGeetest:function(t,e,n){var a=SSO.determineBrowser(),o=e.val();dndc.ajax({url:"/sso/api/getGeetestCaptcha?t="+(new Date).getTime()+"&browser="+a+"&accountName="+o,type:"get",dataType:"json",doneCallback:function(e){initGeetest({gt:e.gt,challenge:e.challenge,new_captcha:e.new_captcha,product:"embed",offline:!e.success},function(e){gCaptchaObj=e;var a=t.find("#embed-captcha");e.appendTo(a),e.onReady(function(){t.find("#wait").addClass("hide").removeClass("show"),n.attr("disabled",!1).addClass("u-btn-deepred").removeClass("u-btn-disabled")})})}})},isNeedGeetest:function(a,t,n){var e=t.val();dndc.ajax({url:"/sso/api/isNeedShowGeekey?accountName="+e,type:"get",dataType:"json",doneCallback:function(e){0==e.code&&(0!==e.data?(Geetest_flag=!0,a.find(".J-form-item").removeClass("none"),SSO_PC.ajaxGeetest(a,t,n)):(a.find(".J-form-item").addClass("none"),n.attr("disabled",!1).addClass("u-btn-deepred").removeClass("u-btn-disabled")))}})},ajaxForm:function(e,a,t,n,o){formFlag=!1;dndc.ajax({url:t,type:"post",dataType:"json",data:e,doneCallback:function(e){0!==e.code?(dialog({title:"消息",content:e.message,okValue:"确定",fixed:!0,ok:function(){a.attr("disabled",!1).addClass("u-btn-deepred").removeClass("u-btn-disabled"),formFlag=!0}}).width(400).showModal(),SSO.resetCaptcha(),0==Geetest_flag&&401!==e.code&&SSO_PC.isNeedGeetest(n,o,a)):(dialog({content:e.message}).showModal(),setTimeout(function(){window.location.href=decodeURI(e.data.returnUrl)},2e3))}})},ajaxImgcode:function(){var e=(new Date).getTime();$(".code-div img").attr("src","/sso/api/sendchartcode?t="+e)}};$(function(){$("#J-check-num").on("click",function(){$("#J-check-num").prop("disabled",!0),$("#image_captcha").removeClass("focus").siblings(".error-empty").addClass("none");var e=$('input[name="name"]').val(),a=$('input[name="captcha"]').val();if(/^\d{11}$/.test(e))if(4==a.length){dndc.ajax({url:"/sso/api/sendsms",type:"post",data:{mobile:function(){return e},verifyChartCode:function(){return a}},doneCallback:function(e){0!==e.code?dialog({title:"消息",content:e.message,okValue:"确定",fixed:!0,ok:function(){$("#J-check-num").prop("disabled",!1).removeClass("u-btn-disabled").addClass("u-btn-orange"),$("#J-check-num").text("发送短信码"),SSO_PC.ajaxImgcode(),$("#image_captcha").val("")}}).width(400).showModal():function(e,a,t){e.prop("disabled",!0).removeClass("u-btn-orange").addClass("u-btn-disabled"),e.html("重新发送("+a+"s)");var n=setInterval(function(){--a<0?(clearInterval(n),t&&t()):e.html("重新发送("+a+"s)")},1e3)}($("#J-check-num"),120,function(){$("#J-check-num").prop("disabled",!1).removeClass("u-btn-disabled").addClass("u-btn-orange"),$("#J-check-num").text("发送短信码")})}})}else dialog({title:"消息",content:"请填写正确图形验证码",okValue:"确定",fixed:!0,ok:function(){SSO_PC.ajaxImgcode(),$("#J-check-num").prop("disabled",!1),$("#image_captcha").val("").focus()}}).width(250).showModal();else dialog({title:"消息",content:"请填写正确手机号码",okValue:"确定",fixed:!0,ok:function(){$("#J-check-num").prop("disabled",!1)}}).width(250).showModal()}),"placeholder"in document.createElement("input")||$("input").each(function(){var e=$(this);if(""==!e.attr("placeholder")){var a=e.attr("placeholder");e.after("<span class='word_tip'>"+a+"</span>");var t=e.next("span");t.on("click",function(){e.focus()}),e.focus(function(){t.hide()}),e.blur(function(){""==e.val()&&t.show()})}})});